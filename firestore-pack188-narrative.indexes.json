{
  "indexes": [
    {
      "collectionGroup": "ai_story_arcs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "characterId", "order": "ASCENDING" },
        { "fieldPath": "category", "order": "ASCENDING" },
        { "fieldPath": "popularityScore", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_story_arcs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "isActive", "order": "ASCENDING" },
        { "fieldPath": "isSafe", "order": "ASCENDING" },
        { "fieldPath": "releasedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_story_arcs",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "season", "order": "ASCENDING" },
        { "fieldPath": "releasedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_story_branches",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "arcId", "order": "ASCENDING" },
        { "fieldPath": "chapterId", "order": "ASCENDING" },
        { "fieldPath": "branchIndex", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_scene_states",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "arcId", "order": "ASCENDING" },
        { "fieldPath": "lastUpdatedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_scene_states",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "characterId", "order": "ASCENDING" },
        { "fieldPath": "lastUpdatedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_scene_states",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "status", "order": "ASCENDING" },
        { "fieldPath": "lastUpdatedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_multi_character_sessions",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "status", "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_multi_character_sessions",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "sceneType", "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "user_story_progress",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "lastPlayedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_story_outcomes",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "arcId", "order": "ASCENDING" },
        { "fieldPath": "completedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_story_outcomes",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "outcomeType", "order": "ASCENDING" },
        { "fieldPath": "completedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_seasonal_events",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "season", "order": "ASCENDING" },
        { "fieldPath": "isActive", "order": "ASCENDING" },
        { "fieldPath": "startDate", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_seasonal_events",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "eventType", "order": "ASCENDING" },
        { "fieldPath": "isActive", "order": "ASCENDING" },
        { "fieldPath": "startDate", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "user_story_choices",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "arcId", "order": "ASCENDING" },
        { "fieldPath": "chosenAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "user_story_choices",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "chapterId", "order": "ASCENDING" },
        { "fieldPath": "chosenAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "ai_story_analytics",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "arcId", "order": "ASCENDING" },
        { "fieldPath": "metricType", "order": "ASCENDING" },
        { "fieldPath": "date", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "user_story_bookmarks",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "arcId", "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "chapters",
      "queryScope": "COLLECTION_GROUP",
      "fields": [
        { "fieldPath": "arcId", "order": "ASCENDING" },
        { "fieldPath": "chapterNumber", "order": "ASCENDING" }
      ]
    }
  ],
  "fieldOverrides": []
}